<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.pozocolorado.app.controllers.ReservaController"
            stylesheets="@../style.css">

    <!-- ðŸŒ… Barra superior moderna -->
    <top>
        <HBox spacing="15"
              style="-fx-background-color: linear-gradient(to right, #fc4a1a, #f7b733);
                     -fx-alignment: center;
                     -fx-padding: 12;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 8, 0.3, 0, 2);">

            <children>
                <!-- ðŸ‘¤ BotÃ³n de navegaciÃ³n -->
                <Button text="ðŸ‘¤ HuÃ©spedes" onAction="#goHuespedes" styleClass="nav-inactive"/>

                <!-- ðŸ¨ BotÃ³n activo (Reservas) -->
                <Button text="ðŸ¨ Reservas" disable="true" styleClass="nav-active"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <HBox spacing="10">
                    <children>
                        <Button text="ðŸ“¤ CSV" onAction="#exportCsv" styleClass="export"/>
                        <Button text="ðŸ“˜ PDF" onAction="#exportPdf" styleClass="export"/>
                    </children>
                </HBox>

                <Button text="ðŸšª Salir" onAction="#logout" styleClass="exit"/>
            </children>

        </HBox>
    </top>

    <!-- ðŸ“‹ TABLA CENTRAL -->
    <center>
        <VBox spacing="10">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>
            <children>

                <!-- ðŸŽ›ï¸ FILTROS -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <children>
                        <Label text="HuÃ©sped:"/>
                        <ComboBox fx:id="filterHuespedBox" prefWidth="150"/>

                        <Label text="Desde:"/>
                        <DatePicker fx:id="filterDesdePicker"/>

                        <Label text="Hasta:"/>
                        <DatePicker fx:id="filterHastaPicker"/>

                        <TextField fx:id="searchField"
                                   promptText="ðŸ” Buscar reserva..."
                                   prefWidth="220"
                                   style="-fx-background-radius: 8; -fx-border-radius: 8;"/>

                        <Pane HBox.hgrow="ALWAYS"/>
                    </children>
                </HBox>

                <!-- ðŸ§¾ TABLA DE RESERVAS -->
                <TableView fx:id="table">
                    <columns>
                        <TableColumn text="HuÃ©sped" fx:id="colHuesped" prefWidth="180"/>
                        <TableColumn text="HabitaciÃ³n" fx:id="colHabitacion" prefWidth="120"/>
                        <TableColumn text="Desde" fx:id="colDesde" prefWidth="110"/>
                        <TableColumn text="Hasta" fx:id="colHasta" prefWidth="110"/>
                        <TableColumn text="Estado" fx:id="colEstado" prefWidth="100"/>
                    </columns>
                </TableView>
            </children>
        </VBox>
    </center>

    <!-- ðŸ”˜ FORMULARIO INFERIOR -->
    <bottom>
        <VBox spacing="12"
              style="-fx-background-color: linear-gradient(to right, #f7b733, #fc4a1a);
                     -fx-padding: 12;">
            <children>
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints minWidth="100"/>
                        <ColumnConstraints minWidth="200"/>
                        <ColumnConstraints minWidth="100"/>
                        <ColumnConstraints minWidth="200"/>
                    </columnConstraints>
                    <children>
                        <Label text="HuÃ©sped:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-text-fill: white;"/>
                        <ComboBox fx:id="huespedBox" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="HabitaciÃ³n:" GridPane.rowIndex="0" GridPane.columnIndex="2" style="-fx-text-fill: white;"/>
                        <TextField fx:id="habitacionField" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                        <Label text="Desde:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-text-fill: white;"/>
                        <DatePicker fx:id="desdePicker" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Hasta:" GridPane.rowIndex="1" GridPane.columnIndex="2" style="-fx-text-fill: white;"/>
                        <DatePicker fx:id="hastaPicker" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                        <Label text="Estado:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-text-fill: white;"/>
                        <ComboBox fx:id="estadoBox" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                    </children>
                </GridPane>

                <!-- ðŸ§­ Botonera inferior -->
                <HBox spacing="10" alignment="CENTER">
                    <children>
                        <Button text="ðŸ†• Nueva" onAction="#nueva" styleClass="btn-new"/>
                        <Button text="ðŸ’¾ Guardar" onAction="#guardar" styleClass="btn-save"/>
                        <Button text="ðŸ—‘ï¸ Eliminar" onAction="#eliminar" styleClass="btn-delete"/>
                    </children>
                </HBox>
            </children>
        </VBox>
    </bottom>
</BorderPane>
