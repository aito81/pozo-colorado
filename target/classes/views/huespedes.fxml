<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.pozocolorado.app.controllers.HuespedController"
            stylesheets="@../style.css">

    <!-- 🌅 Barra superior con navegación moderna -->
    <top>
        <HBox spacing="15"
              style="-fx-background-color: linear-gradient(to right, #fc4a1a, #f7b733);
                     -fx-alignment: center;
                     -fx-padding: 12;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 8, 0.3, 0, 2);">

            <children>
                <!-- 👤 Botón activo (Huéspedes) -->
                <Button text="👤 Huéspedes" disable="true" styleClass="nav-active"/>

                <!-- 🏨 Botón de navegación -->
                <Button text="🏨 Reservas" onAction="#goReservas" styleClass="nav-inactive"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- 📄 Botones de exportación -->
                <HBox spacing="10">
                    <children>
                        <Button text="📤 CSV" onAction="#exportarCSV" styleClass="export"/>
                        <Button text="📘 PDF" onAction="#exportarPDF" styleClass="export"/>
                    </children>
                </HBox>

                <!-- 🚪 Botón de salida -->
                <Button text="🚪 Salir" onAction="#logout" styleClass="exit"/>
            </children>
        </HBox>
    </top>

    <!-- 📋 Tabla central -->
    <center>
        <TableView fx:id="table"
                   style="-fx-background-radius: 0; -fx-border-color: transparent;">
            <columns>
                <TableColumn text="Nombre" fx:id="colNombre" prefWidth="160"/>
                <TableColumn text="Tipo Doc" fx:id="colTipoDoc" prefWidth="90"/>
                <TableColumn text="N° Doc" fx:id="colNumeroDoc" prefWidth="120"/>
                <TableColumn text="Nacimiento" fx:id="colNacimiento" prefWidth="110"/>
                <TableColumn text="Teléfono" fx:id="colTelefono" prefWidth="120"/>
                <TableColumn text="País" fx:id="colPais" prefWidth="100"/>
            </columns>
        </TableView>
    </center>

    <!-- ✏️ Formulario inferior -->
    <bottom>
        <VBox spacing="10"
              style="-fx-background-color: linear-gradient(to right, #f7b733, #fc4a1a);
                     -fx-padding: 10;">
            <children>
                <GridPane hgap="10" vgap="10">
                    <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
                    <columnConstraints>
                        <ColumnConstraints minWidth="100"/>
                        <ColumnConstraints minWidth="200"/>
                        <ColumnConstraints minWidth="100"/>
                        <ColumnConstraints minWidth="200"/>
                    </columnConstraints>
                    <children>
                        <Label text="Nombre:" GridPane.rowIndex="0" GridPane.columnIndex="0"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                        <TextField fx:id="nombreField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Tipo Doc:" GridPane.rowIndex="0" GridPane.columnIndex="2"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                        <ComboBox fx:id="tipoDocBox" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                        <Label text="N° Documento:" GridPane.rowIndex="1" GridPane.columnIndex="0"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                        <TextField fx:id="numeroDocField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Nacimiento:" GridPane.rowIndex="1" GridPane.columnIndex="2"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                        <DatePicker fx:id="nacimientoPicker" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                        <Label text="Teléfono:" GridPane.rowIndex="2" GridPane.columnIndex="0"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                        <TextField fx:id="telefonoField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="País:" GridPane.rowIndex="2" GridPane.columnIndex="2"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                        <TextField fx:id="paisField" GridPane.rowIndex="2" GridPane.columnIndex="3"/>
                    </children>
                </GridPane>

                <!-- 🧭 Botonera inferior -->
                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <children>
                        <Button text="🆕 Nuevo" onAction="#nuevo" styleClass="btn-new"/>
                        <Button text="💾 Guardar" onAction="#guardar" styleClass="btn-save"/>
                        <Button text="🗑️ Eliminar" onAction="#eliminar" styleClass="btn-delete"/>
                    </children>
                </HBox>


            </children>
        </VBox>
    </bottom>
</BorderPane>
